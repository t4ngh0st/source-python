from modules.search_tools import SearchTools

class ChatResponses:
    def __init__(self):
        self.search = SearchTools()
        self.responses = {
            # ... (responses sebelumnya)
            'search': self.handle_search,
            'dork': self.handle_dork
        }
    
    def handle_search(self, args):
        """Handle search commands"""
        if not args:
            return "Usage: search [reddit|exploitdb] <query>"
        
        parts = args.split(' ', 1)
        if len(parts) < 2:
            return "Invalid search format"
            
        source, query = parts
        
        if source == 'reddit':
            results = self.search.search_reddit(query)
        elif source == 'exploitdb':
            results = self.search.search_exploit_db(query)
        else:
            return "Unknown search source. Available: reddit, exploitdb"
        
        return self.format_search_results(results, source)
    
    def handle_dork(self, query):
        """Handle Google dorking"""
        if not query:
            return "Usage: dork <dork_query>"
        
        results = self.search.google_dork(query)
        return self.format_dork_results(results)
    
    def format_search_results(self, results, source):
        # ... (implementasi formatting)
    
    def format_dork_results(self, results):
        # ... (implementasi formatting)